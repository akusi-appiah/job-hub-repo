<div class="relative w-full">
  <button
    type="button"
    [disabled]="disabled()"
    (click)="toggleDropdown($event)"
    class="w-full bg-white border text-gray-700 border-gray-300 rounded-md px-3 py-2 text-left flex justify-between items-center"
  >
    {{ selectedOption()?.name || 'Select a category' }}
    <span class="ml-auto">â–¼</span>
  </button>

  @if (isOpen()) {
    <div
      class="absolute mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto z-10 w-full max-w-full">
      
      @for (option of options(); track option.id) {
        <div
          (click)="selectOption(option)"
          (keypress)="selectOption(option)"
          class="flex items-center px-3 py-2 cursor-pointer hover:bg-blue-50 transition-colors duration-150"
        >
          <label class="flex-grow text-sm font-medium text-gray-700 cursor-pointer">
            {{ option.name }}
          </label>
          @if (option.description) {
            <span class="text-sm text-gray-600 ml-auto px-2 py-1 font-medium bg-gray-100 rounded-full">
              {{ option.description }}
            </span>
          }
        </div>
      }
    </div>
  }
</div>

