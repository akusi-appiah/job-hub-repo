<div class="job-post-container">
  <h1 class="text-2xl font-bold text-blue-700 mb-6 border-b-2 border-brand-primary pb-2 text-center">Create a New Job Listing</h1>

  <form [formGroup]="jobForm" (ngSubmit)="submitJob()" class="grid grid-cols-1 gap-3">
    <div class="w-full">
      <input formControlName="name" required class="form-input" placeholder="Job Name">
      @if (jobForm.get('name')?.hasError('required') && jobForm.get('name')?.touched) {
        <div class="text-red-500 text-xs">Job name is required</div>
      }
    </div>

    <div class="w-full">
      <textarea formControlName="description" required rows="3" class="form-input" placeholder="Job Description"></textarea>
      @if (jobForm.get('description')?.hasError('required') && jobForm.get('description')?.touched) {
        <div class="text-red-500 text-xs">Job description is required</div>
      }
    </div>

    <div class="w-full">
      <app-single-select [options]="jobCategories" (selected)="onCategorySelect($event)" [disabled]="jobForm.disabled"></app-single-select>
      @if (jobForm.get('categoryId')?.hasError('required') && jobForm.get('categoryId')?.touched) {
        <div class="text-red-500 text-xs">Category is required</div>
      }
    </div>

    <div class="w-full">
      <div class="text-gray-500 text-xs mb-1">Pay Amount</div>
      <div class="relative">
        <span class="absolute left-1.5 top-[38%] transform -translate-y-1/2 font-bold text-[1rem] text-gray-500">$</span>
        <input formControlName="payAmount" type="number" required class="form-input pl-8">
      </div>
      @if (jobForm.get('payAmount')?.hasError('min') && jobForm.get('payAmount')?.touched) {
        <div class="text-red-500 text-xs">Pay amount must be greater than 0</div>
      }
    </div>

    <div class="w-full">
      <div class="text-gray-500 text-xs mb-1">Time to Complete</div>
      <input type="date" formControlName="timeToCompleteDate" required class="form-input">
      @if (jobForm.get('timeToCompleteDate')?.hasError('required') && jobForm.get('timeToCompleteDate')?.touched) {
        <div class="text-red-500 text-xs">Time to complete is required</div>
      }
    </div>

    <div class="w-full">
      <div class="text-gray-500 text-xs mb-1">Expiry Date</div>
      <input type="date" formControlName="expiryDate" required class="form-input">
      @if (jobForm.get('expiryDate')?.hasError('required') && jobForm.get('expiryDate')?.touched) {
        <div class="text-red-500 text-xs">Expiry date is required</div>
      }
    </div>

    <div class="w-full">
      <button type="submit" [disabled]="loading || jobForm.invalid" class="btn-primary w-full">
        {{ loading ? 'Posting...' : 'Post Job' }}
      </button>
    </div>
  </form>
</div>