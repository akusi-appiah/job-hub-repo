<div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
    <h2 class="text-2xl font-bold mb-6 text-blue-700">Create Account</h2>
    @if(!showConfirmation()){
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <input class="form-input" placeholder="First Name" formControlName="firstName" />
            <input class="form-input" placeholder="Last Name" formControlName="lastName" />
            <input class="form-input" placeholder="Email" type="email" formControlName="email" />
            <input class="form-input" placeholder="Password" type="password" formControlName="password" />
            <input class="form-input" placeholder="Confirm Password" type="password" formControlName="confirmPassword" />
            @if(form.errors?.['mismatch']){
                 <div  class="text-red-500 text-sm mb-3">Passwords do not match</div>
            }
           
            <div class="form-group">
                <label class="block text-sm font-medium text-gray-700 mb-2" for="jobPreferences">
                    Job Preferences (Optional)
                </label>
                <app-multi-select
                    [options]="jobPreferenceOptions"
                    formControlName="jobPreferences"
                    placeholder="Select your job interests..."
                    [searchable]="true"
                    (selectionChange)="onJobPreferencesChange($event)"
                />
            </div>
            <button type="submit" class="btn-primary w-full mt-4" [disabled]="form.invalid">Sign Up</button>
            @if(errorMessage){
               <p  class="text-red-500 text-sm mt-2">{{ errorMessage }}</p> 
            }
        </form>
    }
    @if(showConfirmation()){
        <form  (ngSubmit)="onConfirm(confirmationCode())">
            <input class="form-input" placeholder="Confirmation Code" [(ngModel)]="confirmationCode" name="confirmationCode" required />
            <button type="submit" class="btn-primary w-full mt-4">Confirm</button>

            @if(errorMessage){
                <p  class="text-red-500 text-sm mt-2">{{ errorMessage }}</p>
            }
        </form>        
    }
    <p class="mt-4 text-center text-sm">
    Already have an account?
    <a routerLink="/signin" class="text-blue-600 hover:underline text-sm">Sign In</a>
    </p>
</div>
